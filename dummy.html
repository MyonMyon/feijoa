<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <link rel="stylesheet" href="pigeon.css">
    <script src="draw.js"></script>
    <title>Feijoa Sketch</title>
  </head>
  <body>
    <canvas id="draw" tabindex="0"></canvas>
    <div id="tools">
      <span id="slidersW">
        <input type="range" min="1" max="128" step="1" value="4" id="rangeW" onChange="updateSliders(1);"> 
      </span> Толщина <br />
      <span id="slidersO">
        <input type="range" min="0.05" max="1" step="0.05" value="1.00" id="rangeO" onChange="updateSliders(1);"> 
      </span> Непрозрачность <br />
      <span id="slidersB">
        <input type="range" min="0" max="20" step="1" value="0" id="rangeB" onChange="updateSliders(1);">
      </span> Тень <br />
      <!--span id="slidersT">
        <input type="range" min="1" max="360" step="1" value="360" id="rangeT" onChange="updateSliders(1);">
      </span> Минимальный угол <br /-->
      <div class="palette">
        Палитра: <select id="palette-select" onChange="updatePalette();"></select>
        <div id="palette"></div>
        HEX: <input type="text" value="#000000" id="color" onChange="updateColor();"><br />
      </div>
      <br />
      <form method="post" id="send" action="">
      </form>
    </div>
    <div>
      <span class="button" title="Назад (Z)" id="buttonU" onClick="historyOperation(1);">&#x2190;</span>
      <span class="button" title="Вперёд (X)" id="buttonR" onClick="historyOperation(2);">&#x2192;</span>
      <span class="vertical">&nbsp;</span>
      <span class="button" id="colorF" title="Закрасить полотно основным цветом (F)" onClick="clearScreen(0);">&nbsp;</span>
      <span class="button" title="Поменять инструменты местами (S)" onClick="swapTools(0);">&#x2194;</span>
      <span class="button" id="colorB" title="Закрасить полотно фоновым цветом (D)" onClick="clearScreen(1);">&nbsp;</span>
      <span class="button" title="Заменить инструмент на стандартный ластик (A)" onClick="swapTools(1);">&#x25A1;</span>
      <span class="button" title="Инверсия полотна (I)" onClick="invertColors();">&#x25D0;</span>
      <span class="vertical">&nbsp;</span>
      <span class="button" title="Режим низкого качества" id="checkOM" onClick="switchMode(0);">&#x25A0;</span>
      <span class="button" title="Предпросмотр кисти" id="checkPP" onClick="switchMode(1);">&#x25CF;</span>
      <span class="vertical">&nbsp;</span>
      <span class="button" title="Сделать back-up" onClick="savePic(-1);">&#x22C1;</span>
      <span class="button" title="Извлечь back-up" onClick="savePic(-2);">&#x22C0;</span>
      <span class="button" title="Сохранить в PNG" id="buttonSP" onClick="savePic(2);">P</span>
      <span class="button" title="Сохранить в JPEG" id="buttonSJ" onClick="savePic(1);">J</span>
      <span class="button" title="На сервер" onClick="savePic(0);">&#x21B5;</span>
      <p id="help">Хоткеи: C/MOUSE3 - пипетка. Колёсико/Q/W — изменение толщины. Ctrl+колёсико/E/R — изменение прозрачности. Shift+колёсико/T/Y — изменение тени. Всё работает только при наведении на холст.</p>
      <p>Feijoa Sketch <span id="version"></span> by Genius, <span id="date"></span></p>
    </div>
    <div id="debug"></div>
  </body>
</html>
